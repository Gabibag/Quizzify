<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Set Maker</title>
  </head>
  <body>
    <input type="text" id = "name" placeholder="Enter name"><input type="text" id = "desc" placeholder="describe it">
    <ol id="terms"></ol>
    <input type="text" name="Term" id="setname" placeholder="Enter Term" />
    <input
      type="text"
      name="Definition"
      id="setdef"
      placeholder="Enter Definition"
    />
    <button onclick="addTerm()">Add Term</button>
    <button onclick="submit()">Submit</button>
    <script>
      function submit() {
        try {
          var terms = document.getElementById("terms");
          var t = "";
          for (let v of terms.children) {
            t += v.innerHTML + ",";
          }
          var body = {
            terms: t,
            name: "test",
            description: "test descp",
          };
          fetch("/api/createset", {
            method: "POST",
            body: JSON.stringify(body),
            headers: {
              "Content-Type": "application/json",
            },
          });
        } catch (error) {
          alert(error.message);
        }
      }
      function addTerm() {
        var term = document.getElementById("setname").value;
        var def = document.getElementById("setdef").value;
        var li = document.createElement("li");
        var text = document.createTextNode(term + "-" + def);
        li.appendChild(text);
        document.getElementById("terms").appendChild(li);
      }
      
      
      
    </script>
  </body>
</html>
