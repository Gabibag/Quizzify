<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Set Maker</title>
    <script src="javascript/setMaker.js"></script>
    <link rel="stylesheet" href="styles/setMaker.css"/>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Titan+One&display=swap');
    </style>
  </head>
  <body>
  <div class="mainItems">
    <div class="setInfoGroup">
      <label for="name"></label><input class="headInputBox" id="name" placeholder="Enter name"
                                                               type="text">
      <label for="desc"></label><input class="headInputBox"
                                       id="desc"
                                       placeholder="Description"
                                       type="text"
      >
    </div>

    <div class="setInfoGroup">
<!--      focus on setdef after press enter-->
        <label for="setname"></label><input class="inputBox" id="setname" name="Term" placeholder="Enter Term"
                                            type="text"
    />
        <label for="setdef"></label><input
            class="inputBox"
            id="setdef"
            name="Definition"
            placeholder="Enter Definition"
            type="text"
    />
    </div>
      <div class="listGroup">
          <ol id="terms"></ol>
          <ol id="defs"></ol>
      </div>
      <button class="button" id="def" onclick="submit()"><img alt="submit" height="100%" id="faceUp"
                                                              src="images/rightArrow.svg" width="100%"></button>
      <button class="button" id="swap" onclick="swapTermAndDef()"><img alt="swap"
                                                                       height="100%" src="images/backArrow.svg"
                                                                       style="transform: rotate(180deg); filter: invert(100%); position: absolute; top: 20%; left: 25%;"
                                                                       width="50%">
          <img alt="swap under"
               height="100%" src="images/backArrow.svg"
               style="filter: invert(100%); position: absolute; top: -20%; left: 25%;" width="50%">
      </button>
      <button class="button" id="import" onclick="importFromCSVClipboard()"><img alt="import"
                                                                                 src="images/rightArrow.svg"
                                                                                 style="transform: rotate(90deg)"
                                                                                 width="100%">
      </button>
  </div>

  </body>
<script>
    let entered = true;
    //onload focus on name
    window.onload = function () {
        document.getElementById("name").focus();
    }
    //when the user presses enter on name input, switch to desc input
    document.getElementById("name").addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            event.preventDefault();
            document.getElementById("desc").focus();

        }

    })
    //when the user presses enter on desc input, switch to term input
    document.getElementById("desc").addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            event.preventDefault();
            document.getElementById("setname").focus();
        }
    })

    //when the user presses enter on term input, switch to def input
    document.getElementById("setname").addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            event.preventDefault();
            console.log(document.getElementById("setname").style.animation);
            document.getElementById("setname").style.animation = "bounceUp 0.3s";
            console.log(document.getElementById("setname").style.animation);
            setTimeout(function () {
                document.getElementById("setname").style.animation = "";
            }, 300);
            document.getElementById("setdef").focus();

        } else if (event.key === " ") {
            //make the inputbox bounce up once using css animation
            document.getElementById("setname").style.animation = "bounceUp 0.3s";
            setTimeout(function () {
                document.getElementById("setname").style.animation = "";
            }, 300);
        } else {
            document.getElementById("setname").style.animation = "bounceLittleUp 0.1s";
            setTimeout(function () {
                document.getElementById("setname").style.animation = "";
            }, 100);
        }
    })
    //when the user presses enter on def input, add the term and def to the list
    document.getElementById("setdef").addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            event.preventDefault();
            document.getElementById("setdef").style.animation = "bounceUp 0.3s";
            setTimeout(function () {
                document.getElementById("setdef").style.animation = "";
            }, 300);
            addTerm();
            document.getElementById("setname").focus();
            if (entered){
                document.getElementById("def").style.animation = "bringAttention 0.6s 8";
                document.getElementById("def").style.animationTimingFunction = "ease-out";
                setTimeout(function () {
                    document.getElementById("def").style.animation = "";
                }, 500);
                entered = false;
            }
        } else if (event.key === " ") {
            //make the inputbox bounce up once using css animation
            document.getElementById("setdef").style.animation = "bounceUp 0.3s";
            setTimeout(function () {
                document.getElementById("setdef").style.animation = "";
            }, 300);
        } else {
            document.getElementById("setdef").style.animation = "bounceLittleUp 0.1s";
            setTimeout(function () {
                document.getElementById("setdef").style.animation = "";
            }, 100);
        }
        //     rise it up 5pxs, and then run bringAttention animation





    })
</script>
</html>
